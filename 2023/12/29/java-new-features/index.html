<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
  <title>
    
    Java-New-Features ä¸¨
    

    Lism Blog
  </title>

  
  <link rel="shortcut icon" href="/icon.svg">
  

  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  
  <link id="theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.css">
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
  

  <!-- å­—ä½“ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">

  
<link rel="stylesheet" href="/css/root.css">

  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/post.css">

<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="/Lism Blog" type="application/atom+xml">
</head>

<body>
  <header class="header">
  <section class="header-container">
    <a class="logo" href="/">/Lism Blog</a>
    <ul class="nav">
      
      <li><a href="/archives">archives</a></li>
      
      <li><a href="/about">about</a></li>
      
    </ul>
  </section>
</header>
  <main class="main">
    <article class="post">
  
  <div class="post-title">Java-New-Features</div>
  <div class="post-meta">
    <div class="date">2023 åäºŒæœˆ 29æ—¥</div>
    <div class="tags">
      
      <div class="tag-item">Java</div>
      
    </div>
  </div>
  

  <main class="post-content"><h1 id="java821æ–°ç‰¹æ€§æ€»ç»“"><a class="markdownIt-Anchor" href="#java821æ–°ç‰¹æ€§æ€»ç»“"></a> Java8â†’21æ–°ç‰¹æ€§æ€»ç»“</h1>
<hr />
<h2 id="ç›®å½•"><a class="markdownIt-Anchor" href="#ç›®å½•"></a> ç›®å½•</h2>
<ul>
<li><a href="#java-8">Java 8ï¼ˆ2014ï¼‰â€” åˆ’æ—¶ä»£ç‰ˆæœ¬</a></li>
<li><a href="#java-9">Java 9ï¼ˆ2017ï¼‰â€” æ¨¡å—åŒ–æ—¶ä»£</a></li>
<li><a href="#java-10">Java 10ï¼ˆ2018ï¼‰â€” å±€éƒ¨å˜é‡æ¨æ–­</a></li>
<li><a href="#java-11">Java 11ï¼ˆ2018ï¼‰â€” ç¬¬äºŒä¸ª LTS</a></li>
<li><a href="#java-12-14">Java 12 ~ 14 â€” è¿‡æ¸¡ç‰ˆæœ¬</a></li>
<li><a href="#java-15-16">Java 15 ~ 16ï¼ˆ2020~2021ï¼‰â€” ç‰¹æ€§é€æ¸æˆç†Ÿ</a></li>
<li><a href="#java-17">Java 17ï¼ˆ2021ï¼‰â€” ç¬¬ä¸‰ä¸ª LTS</a></li>
<li><a href="#java-18-20">Java 18 ~ 20ï¼ˆ2022~2023ï¼‰â€” è¿‡æ¸¡ç‰ˆæœ¬</a></li>
<li><a href="#java-21">Java 21ï¼ˆ2023ï¼‰â€” ç¬¬å››ä¸ª LTSï¼Œæœ€é‡ç£…</a></li>
<li><a href="#%E7%89%88%E6%9C%AC%E9%80%89%E6%8B%A9%E5%BB%BA%E8%AE%AE">ç‰ˆæœ¬é€‰æ‹©å»ºè®®</a></li>
</ul>
<hr />
<h2 id="java-8"><a class="markdownIt-Anchor" href="#java-8"></a> Java 8</h2>
<blockquote>
<p><strong>2014 å¹´å‘å¸ƒï¼Œç›®å‰ä»æ˜¯ä½¿ç”¨æœ€å¹¿æ³›çš„ç‰ˆæœ¬ï¼Œå¼•å…¥äº†å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³</strong></p>
</blockquote>
<h3 id="lambda-è¡¨è¾¾å¼"><a class="markdownIt-Anchor" href="#lambda-è¡¨è¾¾å¼"></a> Lambda è¡¨è¾¾å¼</h3>
<p>Lambda æ˜¯ Java 8 æœ€é‡è¦çš„ç‰¹æ€§ï¼Œè®©ä»£ç æ›´ç®€æ´ã€‚</p>
<pre><code class="highlight java"><span class="comment">// æ—§å†™æ³•</span>
List&lt;String&gt; names = Arrays.asList(<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="string">&quot;æå››&quot;</span>, <span class="string">&quot;ç‹äº”&quot;</span>);
Collections.sort(names, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;String&gt;() &#123;
    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(String a, String b)</span> &#123;
        <span class="keyword">return</span> a.compareTo(b);
    &#125;
&#125;);

<span class="comment">// Lambda å†™æ³•</span>
Collections.sort(names, (a, b) -&gt; a.compareTo(b));

<span class="comment">// æ›´ç®€æ´</span>
names.sort(String::compareTo);</code></pre>
<h3 id="stream-api"><a class="markdownIt-Anchor" href="#stream-api"></a> Stream API</h3>
<p>å¯¹é›†åˆè¿›è¡Œé“¾å¼æ“ä½œï¼Œå‘Šåˆ«å¤§é‡ for å¾ªç¯ã€‚</p>
<pre><code class="highlight java">List&lt;String&gt; names = Arrays.asList(<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="string">&quot;æå››&quot;</span>, <span class="string">&quot;ç‹äº”&quot;</span>, <span class="string">&quot;èµµå…­&quot;</span>);

<span class="comment">// è¿‡æ»¤ + è½¬æ¢ + æ”¶é›†</span>
List&lt;String&gt; result = names.stream()
    .filter(name -&gt; name.startsWith(<span class="string">&quot;å¼ &quot;</span>))   <span class="comment">// è¿‡æ»¤</span>
    .map(String::toUpperCase)               <span class="comment">// è½¬æ¢</span>
    .sorted()                               <span class="comment">// æ’åº</span>
    .collect(Collectors.toList());          <span class="comment">// æ”¶é›†</span>

<span class="comment">// èšåˆæ“ä½œ</span>
<span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> names.stream().filter(n -&gt; n.length() &gt; <span class="number">1</span>).count();
Optional&lt;String&gt; first = names.stream().findFirst();

<span class="comment">// å¹¶è¡Œæµï¼ˆå¤šæ ¸åŠ é€Ÿï¼‰</span>
<span class="type">long</span> <span class="variable">sum</span> <span class="operator">=</span> LongStream.rangeClosed(<span class="number">1</span>, <span class="number">1_000_000</span>)
    .parallel()
    .sum();</code></pre>
<h3 id="optional"><a class="markdownIt-Anchor" href="#optional"></a> Optional</h3>
<p>ä¼˜é›…å¤„ç† nullï¼Œé¿å… NullPointerExceptionã€‚</p>
<pre><code class="highlight java"><span class="comment">// æ—§å†™æ³•</span>
<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> user != <span class="literal">null</span> ? user.getName() : <span class="string">&quot;é»˜è®¤å&quot;</span>;

<span class="comment">// Optional å†™æ³•</span>
Optional&lt;User&gt; user = userRepository.findById(id);
<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> user.map(User::getName).orElse(<span class="string">&quot;é»˜è®¤å&quot;</span>);

<span class="comment">// é“¾å¼å¤„ç†</span>
<span class="type">String</span> <span class="variable">city</span> <span class="operator">=</span> Optional.ofNullable(user)
    .map(User::getAddress)
    .map(Address::getCity)
    .orElse(<span class="string">&quot;æœªçŸ¥åŸå¸‚&quot;</span>);</code></pre>
<h3 id="å‡½æ•°å¼æ¥å£"><a class="markdownIt-Anchor" href="#å‡½æ•°å¼æ¥å£"></a> å‡½æ•°å¼æ¥å£</h3>
<p>å››å¤§æ ¸å¿ƒå‡½æ•°å¼æ¥å£ï¼š</p>
<pre><code class="highlight java"><span class="comment">// Function&lt;T, R&gt;ï¼šè¾“å…¥ Tï¼Œè¿”å› R</span>
Function&lt;String, Integer&gt; strLen = String::length;
System.out.println(strLen.apply(<span class="string">&quot;Hello&quot;</span>));  <span class="comment">// 5</span>

<span class="comment">// Predicate&lt;T&gt;ï¼šè¾“å…¥ Tï¼Œè¿”å› boolean</span>
Predicate&lt;String&gt; isEmpty = String::isEmpty;
System.out.println(isEmpty.test(<span class="string">&quot;&quot;</span>));  <span class="comment">// true</span>

<span class="comment">// Consumer&lt;T&gt;ï¼šè¾“å…¥ Tï¼Œæ— è¿”å›</span>
Consumer&lt;String&gt; print = System.out::println;
print.accept(<span class="string">&quot;Hello&quot;</span>);

<span class="comment">// Supplier&lt;T&gt;ï¼šæ— è¾“å…¥ï¼Œè¿”å› T</span>
Supplier&lt;List&lt;String&gt;&gt; listFactory = ArrayList::<span class="keyword">new</span>;</code></pre>
<h3 id="æ–°çš„æ—¥æœŸæ—¶é—´-api"><a class="markdownIt-Anchor" href="#æ–°çš„æ—¥æœŸæ—¶é—´-api"></a> æ–°çš„æ—¥æœŸæ—¶é—´ API</h3>
<p>ç»ˆäºå‘Šåˆ« <code>Date</code> å’Œ <code>Calendar</code> çš„æ··ä¹±ã€‚</p>
<pre><code class="highlight java"><span class="comment">// æ—¥æœŸ</span>
<span class="type">LocalDate</span> <span class="variable">today</span> <span class="operator">=</span> LocalDate.now();
<span class="type">LocalDate</span> <span class="variable">birthday</span> <span class="operator">=</span> LocalDate.of(<span class="number">1995</span>, <span class="number">6</span>, <span class="number">15</span>);
<span class="type">long</span> <span class="variable">age</span> <span class="operator">=</span> ChronoUnit.YEARS.between(birthday, today);

<span class="comment">// æ—¶é—´</span>
<span class="type">LocalTime</span> <span class="variable">now</span> <span class="operator">=</span> LocalTime.now();
<span class="type">LocalTime</span> <span class="variable">meeting</span> <span class="operator">=</span> LocalTime.of(<span class="number">14</span>, <span class="number">30</span>);

<span class="comment">// æ—¥æœŸæ—¶é—´</span>
<span class="type">LocalDateTime</span> <span class="variable">dateTime</span> <span class="operator">=</span> LocalDateTime.now();

<span class="comment">// å¸¦æ—¶åŒº</span>
<span class="type">ZonedDateTime</span> <span class="variable">shanghaiTime</span> <span class="operator">=</span> ZonedDateTime.now(ZoneId.of(<span class="string">&quot;Asia/Shanghai&quot;</span>));

<span class="comment">// æ ¼å¼åŒ–</span>
<span class="type">DateTimeFormatter</span> <span class="variable">formatter</span> <span class="operator">=</span> DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);
<span class="type">String</span> <span class="variable">formatted</span> <span class="operator">=</span> dateTime.format(formatter);</code></pre>
<h3 id="æ¥å£é»˜è®¤æ–¹æ³•"><a class="markdownIt-Anchor" href="#æ¥å£é»˜è®¤æ–¹æ³•"></a> æ¥å£é»˜è®¤æ–¹æ³•</h3>
<p>æ¥å£å¯ä»¥æœ‰é»˜è®¤å®ç°äº†ã€‚</p>
<pre><code class="highlight java"><span class="keyword">interface</span> <span class="title class_">Greeting</span> &#123;
    String <span class="title function_">greet</span><span class="params">(String name)</span>;

    <span class="comment">// é»˜è®¤æ–¹æ³•ï¼Œå®ç°ç±»å¯ä»¥ä¸è¦†å†™</span>
    <span class="keyword">default</span> String <span class="title function_">greetLoudly</span><span class="params">(String name)</span> &#123;
        <span class="keyword">return</span> greet(name).toUpperCase();
    &#125;

    <span class="comment">// é™æ€æ–¹æ³•</span>
    <span class="keyword">static</span> Greeting <span class="title function_">formal</span><span class="params">()</span> &#123;
        <span class="keyword">return</span> name -&gt; <span class="string">&quot;æ‚¨å¥½ï¼Œ&quot;</span> + name;
    &#125;
&#125;</code></pre>
<hr />
<h2 id="java-9"><a class="markdownIt-Anchor" href="#java-9"></a> Java 9</h2>
<blockquote>
<p><strong>2017 å¹´å‘å¸ƒï¼Œå¼•å…¥æ¨¡å—åŒ–ç³»ç»Ÿï¼Œæ”¹å˜äº† Java å¹³å°ç»“æ„</strong></p>
</blockquote>
<h3 id="æ¨¡å—åŒ–ç³»ç»Ÿjpms"><a class="markdownIt-Anchor" href="#æ¨¡å—åŒ–ç³»ç»Ÿjpms"></a> æ¨¡å—åŒ–ç³»ç»Ÿï¼ˆJPMSï¼‰</h3>
<p>å°† JDK è‡ªèº«æ‹†åˆ†æˆæ¨¡å—ï¼Œåº”ç”¨ä¹Ÿå¯ä»¥å£°æ˜ä¾èµ–ã€‚</p>
<pre><code class="highlight java"><span class="comment">// module-info.java</span>
<span class="keyword">module</span> com.myapp &#123;
    <span class="keyword">requires</span> java.sql;          <span class="comment">// ä¾èµ– java.sql æ¨¡å—</span>
    <span class="keyword">requires</span> spring.core;       <span class="comment">// ä¾èµ– Spring</span>
    <span class="keyword">exports</span> com.myapp.api;      <span class="comment">// å¯¹å¤–æš´éœ²çš„åŒ…</span>
&#125;</code></pre>
<h3 id="é›†åˆå·¥å‚æ–¹æ³•"><a class="markdownIt-Anchor" href="#é›†åˆå·¥å‚æ–¹æ³•"></a> é›†åˆå·¥å‚æ–¹æ³•</h3>
<p>åˆ›å»ºä¸å¯å˜é›†åˆæ›´æ–¹ä¾¿ã€‚</p>
<pre><code class="highlight java"><span class="comment">// æ—§å†™æ³•ï¼ˆç¹çï¼‰</span>
List&lt;String&gt; list = Collections.unmodifiableList(Arrays.asList(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>));

<span class="comment">// æ–°å†™æ³•</span>
List&lt;String&gt; list = List.of(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>);
Set&lt;String&gt; set = Set.of(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>);
Map&lt;String, Integer&gt; map = Map.of(<span class="string">&quot;key1&quot;</span>, <span class="number">1</span>, <span class="string">&quot;key2&quot;</span>, <span class="number">2</span>);</code></pre>
<h3 id="stream-å¢å¼º"><a class="markdownIt-Anchor" href="#stream-å¢å¼º"></a> Stream å¢å¼º</h3>
<pre><code class="highlight java"><span class="comment">// takeWhileï¼šå–æ»¡è¶³æ¡ä»¶çš„å‰ç¼€å…ƒç´ </span>
List&lt;Integer&gt; result = Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>)
    .takeWhile(n -&gt; n &lt; <span class="number">4</span>)
    .collect(Collectors.toList());  <span class="comment">// [1, 2, 3]</span>

<span class="comment">// dropWhileï¼šä¸¢å¼ƒæ»¡è¶³æ¡ä»¶çš„å‰ç¼€å…ƒç´ </span>
List&lt;Integer&gt; result2 = Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)
    .dropWhile(n -&gt; n &lt; <span class="number">3</span>)
    .collect(Collectors.toList());  <span class="comment">// [3, 4, 5]</span>

<span class="comment">// Stream.iterate å¢å¼ºï¼ˆå¯ä»¥æŒ‡å®šç»ˆæ­¢æ¡ä»¶ï¼‰</span>
Stream.iterate(<span class="number">1</span>, n -&gt; n &lt; <span class="number">100</span>, n -&gt; n * <span class="number">2</span>)
    .forEach(System.out::println);  <span class="comment">// 1, 2, 4, 8, ...</span></code></pre>
<h3 id="optional-å¢å¼º"><a class="markdownIt-Anchor" href="#optional-å¢å¼º"></a> Optional å¢å¼º</h3>
<pre><code class="highlight java">Optional&lt;String&gt; opt = Optional.of(<span class="string">&quot;hello&quot;</span>);

<span class="comment">// ifPresentOrElse</span>
opt.ifPresentOrElse(
    v -&gt; System.out.println(<span class="string">&quot;æœ‰å€¼: &quot;</span> + v),
    () -&gt; System.out.println(<span class="string">&quot;æ²¡æœ‰å€¼&quot;</span>)
);

<span class="comment">// orï¼šä¸ºç©ºæ—¶æä¾›å¦ä¸€ä¸ª Optional</span>
Optional&lt;String&gt; result = opt.or(() -&gt; Optional.of(<span class="string">&quot;é»˜è®¤å€¼&quot;</span>));

<span class="comment">// streamï¼šè½¬æˆ Stream</span>
opt.stream().forEach(System.out::println);</code></pre>
<hr />
<h2 id="java-10"><a class="markdownIt-Anchor" href="#java-10"></a> Java 10</h2>
<blockquote>
<p><strong>2018 å¹´å‘å¸ƒï¼Œä¸»è¦å¸¦æ¥äº†å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­</strong></p>
</blockquote>
<h3 id="var-å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­"><a class="markdownIt-Anchor" href="#var-å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­"></a> var å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­</h3>
<pre><code class="highlight java"><span class="comment">// æ—§å†™æ³•</span>
HashMap&lt;String, List&lt;Integer&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, List&lt;Integer&gt;&gt;();
Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; iterator = map.entrySet().iterator();

<span class="comment">// var å†™æ³•ï¼ˆç¼–è¯‘å™¨è‡ªåŠ¨æ¨æ–­ç±»å‹ï¼‰</span>
<span class="type">var</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, List&lt;Integer&gt;&gt;();
<span class="type">var</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();
<span class="type">var</span> <span class="variable">text</span> <span class="operator">=</span> <span class="string">&quot;Hello World&quot;</span>;  <span class="comment">// æ¨æ–­ä¸º String</span>

<span class="comment">// åœ¨å¾ªç¯ä¸­ä½¿ç”¨</span>
<span class="keyword">for</span> (<span class="keyword">var</span> entry : map.entrySet()) &#123;
    System.out.println(entry.getKey() + <span class="string">&quot;=&quot;</span> + entry.getValue());
&#125;</code></pre>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong> <code>var</code> åªèƒ½ç”¨äºå±€éƒ¨å˜é‡ï¼Œä¸èƒ½ç”¨äºæ–¹æ³•å‚æ•°ã€è¿”å›å€¼ã€å­—æ®µã€‚</p>
</blockquote>
<hr />
<h2 id="java-11"><a class="markdownIt-Anchor" href="#java-11"></a> Java 11</h2>
<blockquote>
<p><strong>2018 å¹´å‘å¸ƒï¼Œç¬¬äºŒä¸ª LTS ç‰ˆæœ¬ï¼Œä¼ä¸šå‡çº§çš„ä¸»è¦ç›®æ ‡ä¹‹ä¸€</strong></p>
</blockquote>
<h3 id="string-æ–°æ–¹æ³•"><a class="markdownIt-Anchor" href="#string-æ–°æ–¹æ³•"></a> String æ–°æ–¹æ³•</h3>
<pre><code class="highlight java"><span class="comment">// isBlankï¼šåˆ¤æ–­æ˜¯å¦ç©ºç™½ï¼ˆæ¯” isEmpty æ›´ä¸¥æ ¼ï¼‰</span>
<span class="string">&quot;  &quot;</span>.isBlank();   <span class="comment">// true</span>
<span class="string">&quot;&quot;</span>.isBlank();     <span class="comment">// true</span>
<span class="string">&quot; a&quot;</span>.isBlank();   <span class="comment">// false</span>

<span class="comment">// stripï¼šå»é™¤ Unicode ç©ºç™½ï¼ˆæ¯” trim æ›´å¼ºï¼‰</span>
<span class="string">&quot;  hello  &quot;</span>.strip();       <span class="comment">// &quot;hello&quot;</span>
<span class="string">&quot;  hello  &quot;</span>.stripLeading(); <span class="comment">// &quot;hello  &quot;</span>
<span class="string">&quot;  hello  &quot;</span>.stripTrailing();<span class="comment">// &quot;  hello&quot;</span>

<span class="comment">// linesï¼šæŒ‰è¡Œåˆ†å‰²æˆ Stream</span>
<span class="string">&quot;line1\nline2\nline3&quot;</span>.lines()
    .forEach(System.out::println);

<span class="comment">// repeatï¼šé‡å¤å­—ç¬¦ä¸²</span>
<span class="string">&quot;ha&quot;</span>.repeat(<span class="number">3</span>);  <span class="comment">// &quot;hahaha&quot;</span></code></pre>
<h3 id="ç›´æ¥è¿è¡Œ-java-æ–‡ä»¶"><a class="markdownIt-Anchor" href="#ç›´æ¥è¿è¡Œ-java-æ–‡ä»¶"></a> ç›´æ¥è¿è¡Œ Java æ–‡ä»¶</h3>
<pre><code class="highlight bash"><span class="comment"># Java 11 ä¹‹å‰éœ€è¦å…ˆç¼–è¯‘å†è¿è¡Œ</span>
javac Hello.java
java Hello

<span class="comment"># Java 11 å¯ä»¥ç›´æ¥è¿è¡Œ</span>
java Hello.java</code></pre>
<h3 id="httpclient-æ­£å¼å‘å¸ƒ"><a class="markdownIt-Anchor" href="#httpclient-æ­£å¼å‘å¸ƒ"></a> HttpClient æ­£å¼å‘å¸ƒ</h3>
<pre><code class="highlight java"><span class="type">HttpClient</span> <span class="variable">client</span> <span class="operator">=</span> HttpClient.newHttpClient();

<span class="type">HttpRequest</span> <span class="variable">request</span> <span class="operator">=</span> HttpRequest.newBuilder()
    .uri(URI.create(<span class="string">&quot;https://api.example.com/users&quot;</span>))
    .GET()
    .build();

HttpResponse&lt;String&gt; response = client.send(
    request, HttpResponse.BodyHandlers.ofString()
);

System.out.println(response.statusCode());
System.out.println(response.body());</code></pre>
<hr />
<h2 id="java-12~14"><a class="markdownIt-Anchor" href="#java-12~14"></a> Java 12~14</h2>
<blockquote>
<p><strong>è¿‡æ¸¡ç‰ˆæœ¬ï¼Œä¸»è¦ä»¥é¢„è§ˆç‰¹æ€§ä¸ºä¸»</strong></p>
</blockquote>
<h3 id="switch-è¡¨è¾¾å¼java-14-æ­£å¼"><a class="markdownIt-Anchor" href="#switch-è¡¨è¾¾å¼java-14-æ­£å¼"></a> Switch è¡¨è¾¾å¼ï¼ˆJava 14 æ­£å¼ï¼‰</h3>
<pre><code class="highlight java"><span class="comment">// æ—§ switchï¼ˆå®¹æ˜“å¿˜å†™ breakï¼Œè¿˜åªèƒ½åšè¯­å¥ï¼‰</span>
String result;
<span class="keyword">switch</span> (day) &#123;
    <span class="keyword">case</span> MONDAY:
    <span class="keyword">case</span> FRIDAY:
        result = <span class="string">&quot;å·¥ä½œæ—¥&quot;</span>;
        <span class="keyword">break</span>;
    <span class="keyword">case</span> SATURDAY:
    <span class="keyword">case</span> SUNDAY:
        result = <span class="string">&quot;å‘¨æœ«&quot;</span>;
        <span class="keyword">break</span>;
    <span class="keyword">default</span>:
        result = <span class="string">&quot;å…¶ä»–&quot;</span>;
&#125;

<span class="comment">// æ–° switch è¡¨è¾¾å¼ï¼ˆç®€æ´ã€å®‰å…¨ã€å¯ä»¥æœ‰è¿”å›å€¼ï¼‰</span>
<span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">switch</span> (day) &#123;
    <span class="keyword">case</span> MONDAY, FRIDAY -&gt; <span class="string">&quot;å·¥ä½œæ—¥&quot;</span>;
    <span class="keyword">case</span> SATURDAY, SUNDAY -&gt; <span class="string">&quot;å‘¨æœ«&quot;</span>;
    <span class="keyword">default</span> -&gt; <span class="string">&quot;å…¶ä»–&quot;</span>;
&#125;;</code></pre>
<h3 id="æ–‡æœ¬å—-text-blockjava-13-é¢„è§ˆ14-ç»§ç»­é¢„è§ˆ"><a class="markdownIt-Anchor" href="#æ–‡æœ¬å—-text-blockjava-13-é¢„è§ˆ14-ç»§ç»­é¢„è§ˆ"></a> æ–‡æœ¬å— Text Blockï¼ˆJava 13 é¢„è§ˆï¼Œ14 ç»§ç»­é¢„è§ˆï¼‰</h3>
<pre><code class="highlight java"><span class="comment">// æ—§å†™æ³•ï¼ˆæ‹¼æ¥ JSON/HTML/SQL å¾ˆç—›è‹¦ï¼‰</span>
<span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> <span class="string">&quot;&#123;\n&quot;</span> +
              <span class="string">&quot;  \&quot;name\&quot;: \&quot;å¼ ä¸‰\&quot;,\n&quot;</span> +
              <span class="string">&quot;  \&quot;age\&quot;: 25\n&quot;</span> +
              <span class="string">&quot;&#125;&quot;</span>;

<span class="comment">// æ–‡æœ¬å—å†™æ³•ï¼ˆJava 15 æ­£å¼ï¼‰</span>
<span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span>
<span class="string">        &#123;</span>
<span class="string">          &quot;name&quot;: &quot;å¼ ä¸‰&quot;,</span>
<span class="string">          &quot;age&quot;: 25</span>
<span class="string">        &#125;</span>
<span class="string">        &quot;&quot;&quot;</span>;</code></pre>
<hr />
<h2 id="java-15~16"><a class="markdownIt-Anchor" href="#java-15~16"></a> Java 15~16</h2>
<blockquote>
<p><strong>ç‰¹æ€§é€æ¸ä»é¢„è§ˆè½¬ä¸ºæ­£å¼</strong></p>
</blockquote>
<h3 id="æ–‡æœ¬å—æ­£å¼å‘å¸ƒjava-15"><a class="markdownIt-Anchor" href="#æ–‡æœ¬å—æ­£å¼å‘å¸ƒjava-15"></a> æ–‡æœ¬å—æ­£å¼å‘å¸ƒï¼ˆJava 15ï¼‰</h3>
<p>è§ä¸Šæ–¹ç¤ºä¾‹ï¼ŒJava 15 æ­£å¼å‘å¸ƒï¼Œå¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚</p>
<h3 id="recordsjava-16-æ­£å¼"><a class="markdownIt-Anchor" href="#recordsjava-16-æ­£å¼"></a> Recordsï¼ˆJava 16 æ­£å¼ï¼‰</h3>
<p>ä¸å¯å˜æ•°æ®ç±»ï¼Œè‡ªåŠ¨ç”Ÿæˆæ„é€ å™¨ã€getterã€equalsã€hashCodeã€toStringã€‚</p>
<pre><code class="highlight java"><span class="comment">// æ—§å†™æ³•ï¼ˆä¸€ä¸ªç®€å•çš„æ•°æ®ç±»éœ€è¦å†™å‡ åè¡Œï¼‰</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;
    <span class="keyword">private</span> <span class="keyword">final</span> String name;
    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> age;
    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123; <span class="built_in">this</span>.name = name; <span class="built_in">this</span>.age = age; &#125;
    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123; <span class="keyword">return</span> name; &#125;
    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123; <span class="keyword">return</span> age; &#125;
    <span class="comment">// equals, hashCode, toString...</span>
&#125;

<span class="comment">// Record å†™æ³•ï¼ˆä¸€è¡Œæå®šï¼‰</span>
<span class="keyword">public</span> <span class="keyword">record</span> <span class="title class_">User</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;&#125;

<span class="comment">// ä½¿ç”¨</span>
<span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">25</span>);
System.out.println(user.name());  <span class="comment">// å¼ ä¸‰</span>
System.out.println(user.age());   <span class="comment">// 25</span>
System.out.println(user);         <span class="comment">// User[name=å¼ ä¸‰, age=25]</span>

<span class="comment">// å¯ä»¥æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•</span>
<span class="keyword">public</span> <span class="keyword">record</span> <span class="title class_">User</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;
    <span class="comment">// ç´§å‡‘æ„é€ å™¨ï¼ˆåšå‚æ•°æ ¡éªŒï¼‰</span>
    <span class="keyword">public</span> User &#123;
        <span class="keyword">if</span> (age &lt; <span class="number">0</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;å¹´é¾„ä¸èƒ½ä¸ºè´Ÿ&quot;</span>);
    &#125;
    
    <span class="keyword">public</span> String <span class="title function_">greeting</span><span class="params">()</span> &#123;
        <span class="keyword">return</span> <span class="string">&quot;æˆ‘å«&quot;</span> + name + <span class="string">&quot;ï¼Œä»Šå¹´&quot;</span> + age + <span class="string">&quot;å²&quot;</span>;
    &#125;
&#125;</code></pre>
<h3 id="instanceof-pattern-matchingjava-16-æ­£å¼"><a class="markdownIt-Anchor" href="#instanceof-pattern-matchingjava-16-æ­£å¼"></a> instanceof Pattern Matchingï¼ˆJava 16 æ­£å¼ï¼‰</h3>
<pre><code class="highlight java"><span class="comment">// æ—§å†™æ³•</span>
<span class="keyword">if</span> (obj <span class="keyword">instanceof</span> String) &#123;
    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> (String) obj;  <span class="comment">// éœ€è¦å¼ºè½¬</span>
    System.out.println(s.length());
&#125;

<span class="comment">// æ–°å†™æ³•ï¼ˆè‡ªåŠ¨ç»‘å®šå˜é‡ï¼‰</span>
<span class="keyword">if</span> (obj <span class="keyword">instanceof</span> String s) &#123;
    System.out.println(s.length());  <span class="comment">// ç›´æ¥ä½¿ç”¨ sï¼Œæ— éœ€å¼ºè½¬</span>
&#125;</code></pre>
<hr />
<h2 id="java-17"><a class="markdownIt-Anchor" href="#java-17"></a> Java 17</h2>
<blockquote>
<p><strong>2021 å¹´å‘å¸ƒï¼Œç¬¬ä¸‰ä¸ª LTSï¼Œç›®å‰å¾ˆå¤šä¼ä¸šçš„å‡çº§ç›®æ ‡</strong></p>
</blockquote>
<h3 id="sealed-classes-å¯†å°ç±»"><a class="markdownIt-Anchor" href="#sealed-classes-å¯†å°ç±»"></a> Sealed Classes å¯†å°ç±»</h3>
<p>é™åˆ¶å“ªäº›ç±»å¯ä»¥ç»§æ‰¿æˆ–å®ç°ï¼Œè®©ç±»å±‚çº§æ›´å¯æ§ã€‚</p>
<pre><code class="highlight java"><span class="comment">// åªæœ‰ Circleã€Rectangleã€Triangle èƒ½å®ç° Shape</span>
<span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">interface</span> <span class="title class_">Shape</span> <span class="keyword">permits</span> Circle, Rectangle, Triangle &#123;
    <span class="type">double</span> <span class="title function_">area</span><span class="params">()</span>;
&#125;

<span class="keyword">public</span> <span class="keyword">record</span> <span class="title class_">Circle</span><span class="params">(<span class="type">double</span> radius)</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;
    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">area</span><span class="params">()</span> &#123; <span class="keyword">return</span> Math.PI * radius * radius; &#125;
&#125;

<span class="keyword">public</span> <span class="keyword">record</span> <span class="title class_">Rectangle</span><span class="params">(<span class="type">double</span> width, <span class="type">double</span> height)</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;
    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">area</span><span class="params">()</span> &#123; <span class="keyword">return</span> width * height; &#125;
&#125;

<span class="comment">// é…åˆ Pattern Matching ä½¿ç”¨éå¸¸å¼ºå¤§</span>
<span class="type">double</span> <span class="title function_">describe</span><span class="params">(Shape shape)</span> &#123;
    <span class="keyword">return</span> <span class="keyword">switch</span> (shape) &#123;
        <span class="keyword">case</span> Circle c    -&gt; c.area();
        <span class="keyword">case</span> Rectangle r -&gt; r.area();
        <span class="keyword">case</span> Triangle t  -&gt; t.area();
        <span class="comment">// ç¼–è¯‘å™¨çŸ¥é“ Shape åªæœ‰è¿™ä¸‰ç§ï¼Œä¸éœ€è¦ defaultï¼</span>
    &#125;;
&#125;</code></pre>
<h3 id="å¢å¼ºçš„ä¼ªéšæœºæ•°ç”Ÿæˆå™¨"><a class="markdownIt-Anchor" href="#å¢å¼ºçš„ä¼ªéšæœºæ•°ç”Ÿæˆå™¨"></a> å¢å¼ºçš„ä¼ªéšæœºæ•°ç”Ÿæˆå™¨</h3>
<pre><code class="highlight java"><span class="comment">// ç»Ÿä¸€çš„æ¥å£ï¼Œæ”¯æŒå¤šç§ç®—æ³•</span>
<span class="type">RandomGenerator</span> <span class="variable">rng</span> <span class="operator">=</span> RandomGeneratorFactory.of(<span class="string">&quot;L64X128MixRandom&quot;</span>).create();
<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> rng.nextInt(<span class="number">100</span>);

<span class="comment">// æ”¯æŒæµå¼æ“ä½œ</span>
rng.ints(<span class="number">10</span>, <span class="number">1</span>, <span class="number">100</span>).forEach(System.out::println);</code></pre>
<hr />
<h2 id="java-18~20"><a class="markdownIt-Anchor" href="#java-18~20"></a> Java 18~20</h2>
<blockquote>
<p><strong>è¿‡æ¸¡ç‰ˆæœ¬ï¼Œå¼•å…¥äº†å¤šä¸ªé‡è¦é¢„è§ˆç‰¹æ€§</strong></p>
</blockquote>
<h3 id="è™šæ‹Ÿçº¿ç¨‹é¢„è§ˆjava-19"><a class="markdownIt-Anchor" href="#è™šæ‹Ÿçº¿ç¨‹é¢„è§ˆjava-19"></a> è™šæ‹Ÿçº¿ç¨‹é¢„è§ˆï¼ˆJava 19ï¼‰</h3>
<pre><code class="highlight java"><span class="comment">// é¢„è§ˆç‰ˆï¼ˆJava 21 æ­£å¼ï¼Œè§ä¸‹æ–‡ï¼‰</span>
<span class="keyword">try</span> (<span class="type">var</span> <span class="variable">executor</span> <span class="operator">=</span> Executors.newVirtualThreadPerTaskExecutor()) &#123;
    executor.submit(() -&gt; System.out.println(<span class="string">&quot;è¿è¡Œåœ¨è™šæ‹Ÿçº¿ç¨‹ä¸­&quot;</span>));
&#125;</code></pre>
<h3 id="structured-concurrency-ç»“æ„åŒ–å¹¶å‘é¢„è§ˆjava-19"><a class="markdownIt-Anchor" href="#structured-concurrency-ç»“æ„åŒ–å¹¶å‘é¢„è§ˆjava-19"></a> Structured Concurrency ç»“æ„åŒ–å¹¶å‘é¢„è§ˆï¼ˆJava 19ï¼‰</h3>
<pre><code class="highlight java"><span class="comment">// å¤šä¸ªå¹¶å‘ä»»åŠ¡ä½œä¸ºä¸€ä¸ªæ•´ä½“ç®¡ç†</span>
<span class="keyword">try</span> (<span class="type">var</span> <span class="variable">scope</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StructuredTaskScope</span>.ShutdownOnFailure()) &#123;
    Future&lt;String&gt; user  = scope.fork(() -&gt; fetchUser(id));
    Future&lt;String&gt; order = scope.fork(() -&gt; fetchOrder(id));
    
    scope.join();           <span class="comment">// ç­‰å¾…æ‰€æœ‰ä»»åŠ¡</span>
    scope.throwIfFailed();  <span class="comment">// ä»»æ„ä¸€ä¸ªå¤±è´¥åˆ™æŠ›å¼‚å¸¸</span>
    
    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(user.get(), order.get());
&#125;</code></pre>
<hr />
<h2 id="java-21"><a class="markdownIt-Anchor" href="#java-21"></a> Java 21</h2>
<blockquote>
<p><strong>2023 å¹´ 9 æœˆå‘å¸ƒï¼Œç¬¬å››ä¸ª LTSï¼Œç›®å‰æœ€æ–° LTSï¼Œç‰¹æ€§æœ€ä¸°å¯Œ</strong></p>
</blockquote>
<h3 id="è™šæ‹Ÿçº¿ç¨‹æ­£å¼å‘å¸ƒ-æœ€é‡ç£…ç‰¹æ€§"><a class="markdownIt-Anchor" href="#è™šæ‹Ÿçº¿ç¨‹æ­£å¼å‘å¸ƒ-æœ€é‡ç£…ç‰¹æ€§"></a> ğŸŒŸ è™šæ‹Ÿçº¿ç¨‹ï¼ˆæ­£å¼å‘å¸ƒï¼‰â€” æœ€é‡ç£…ç‰¹æ€§</h3>
<p>è™šæ‹Ÿçº¿ç¨‹æ˜¯ Java å¹¶å‘æ¨¡å‹çš„é‡å¤§å˜é©ï¼Œå¯ä»¥è½»æ¾åˆ›å»ºç™¾ä¸‡çº§åˆ«çº¿ç¨‹ã€‚</p>
<pre><code class="highlight java"><span class="comment">// æ–¹å¼ä¸€ï¼šç›´æ¥åˆ›å»ºè™šæ‹Ÿçº¿ç¨‹</span>
<span class="type">Thread</span> <span class="variable">vThread</span> <span class="operator">=</span> Thread.ofVirtual().start(() -&gt; &#123;
    System.out.println(<span class="string">&quot;è¿™æ˜¯è™šæ‹Ÿçº¿ç¨‹: &quot;</span> + Thread.currentThread().isVirtual());
&#125;);

<span class="comment">// æ–¹å¼äºŒï¼šè™šæ‹Ÿçº¿ç¨‹æ‰§è¡Œå™¨ï¼ˆæ¨èï¼‰</span>
<span class="keyword">try</span> (<span class="type">var</span> <span class="variable">executor</span> <span class="operator">=</span> Executors.newVirtualThreadPerTaskExecutor()) &#123;
    <span class="comment">// æäº¤ 100 ä¸‡ä¸ªä»»åŠ¡ï¼Œå®Œå…¨ä¸ç”¨æ‹…å¿ƒèµ„æºè€—å°½</span>
    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1_000_000</span>; i++) &#123;
        executor.submit(() -&gt; &#123;
            Thread.sleep(Duration.ofSeconds(<span class="number">1</span>));  <span class="comment">// é˜»å¡ä¹Ÿæ²¡å…³ç³»</span>
            <span class="keyword">return</span> <span class="string">&quot;done&quot;</span>;
        &#125;);
    &#125;
&#125;

<span class="comment">// æ–¹å¼ä¸‰ï¼šSpring Boot 3.2 ä¸€è¡Œé…ç½®å¼€å¯</span>
<span class="comment">// application.properties</span>
<span class="comment">// spring.threads.virtual.enabled=true</span></code></pre>
<p><strong>ä¸ºä»€ä¹ˆè™šæ‹Ÿçº¿ç¨‹æ˜¯é©å‘½æ€§çš„ï¼Ÿ</strong></p>
<table>
<thead>
<tr>
<th>å¯¹æ¯”é¡¹</th>
<th>å¹³å°çº¿ç¨‹ï¼ˆOS Threadï¼‰</th>
<th>è™šæ‹Ÿçº¿ç¨‹ï¼ˆVirtual Threadï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>åˆ›å»ºæˆæœ¬</td>
<td>é«˜ï¼ˆçº¦ 1MB æ ˆå†…å­˜ï¼‰</td>
<td>æä½ï¼ˆKB çº§åˆ«ï¼‰</td>
</tr>
<tr>
<td>æ•°é‡é™åˆ¶</td>
<td>é€šå¸¸å‡ åƒä¸ª</td>
<td>å¯è¾¾æ•°ç™¾ä¸‡</td>
</tr>
<tr>
<td>é˜»å¡æ—¶</td>
<td>å ç”¨ OS çº¿ç¨‹</td>
<td>è‡ªåŠ¨æŒ‚èµ·ï¼Œé‡Šæ”¾ OS çº¿ç¨‹</td>
</tr>
<tr>
<td>é€‚ç”¨åœºæ™¯</td>
<td>CPU å¯†é›†å‹</td>
<td>IO å¯†é›†å‹ï¼ˆWeb è¯·æ±‚ã€æ•°æ®åº“ï¼‰</td>
</tr>
</tbody>
</table>
<h3 id="pattern-matching-for-switchæ­£å¼å‘å¸ƒ"><a class="markdownIt-Anchor" href="#pattern-matching-for-switchæ­£å¼å‘å¸ƒ"></a> ğŸŒŸ Pattern Matching for Switchï¼ˆæ­£å¼å‘å¸ƒï¼‰</h3>
<pre><code class="highlight java"><span class="comment">// å¼ºå¤§çš„æ¨¡å¼åŒ¹é… + switch ç»„åˆ</span>
<span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="number">42</span>;

<span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">switch</span> (obj) &#123;
    <span class="keyword">case</span> Integer i <span class="keyword">when</span> i &gt; <span class="number">0</span> -&gt; <span class="string">&quot;æ­£æ•´æ•°: &quot;</span> + i;
    <span class="keyword">case</span> Integer i            -&gt; <span class="string">&quot;éæ­£æ•´æ•°: &quot;</span> + i;
    <span class="keyword">case</span> String s             -&gt; <span class="string">&quot;å­—ç¬¦ä¸²: &quot;</span> + s;
    <span class="keyword">case</span> <span class="literal">null</span>                 -&gt; <span class="string">&quot;ç©ºå€¼&quot;</span>;
    <span class="keyword">default</span>                   -&gt; <span class="string">&quot;å…¶ä»–ç±»å‹&quot;</span>;
&#125;;</code></pre>
<h3 id="sequenced-collections"><a class="markdownIt-Anchor" href="#sequenced-collections"></a> ğŸŒŸ Sequenced Collections</h3>
<p>æ–°å¢æœ‰åºé›†åˆæ¥å£ï¼Œç»Ÿä¸€æ“ä½œç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå…ƒç´ ã€‚</p>
<pre><code class="highlight java"><span class="comment">// æ–°æ¥å£ï¼šSequencedCollection</span>
List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(List.of(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>));

list.getFirst();  <span class="comment">// &quot;a&quot;</span>
list.getLast();   <span class="comment">// &quot;c&quot;</span>
list.addFirst(<span class="string">&quot;z&quot;</span>);
list.addLast(<span class="string">&quot;z&quot;</span>);
list.removeFirst();
list.removeLast();

<span class="comment">// åè½¬è§†å›¾</span>
List&lt;String&gt; reversed = list.reversed();</code></pre>
<h3 id="record-patternsæ­£å¼å‘å¸ƒ"><a class="markdownIt-Anchor" href="#record-patternsæ­£å¼å‘å¸ƒ"></a> Record Patternsï¼ˆæ­£å¼å‘å¸ƒï¼‰</h3>
<p>è§£æ„ Record å¯¹è±¡ï¼Œé…åˆ Pattern Matching ä½¿ç”¨ã€‚</p>
<pre><code class="highlight java"><span class="keyword">record</span> <span class="title class_">Point</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;&#125;
<span class="keyword">record</span> <span class="title class_">Line</span><span class="params">(Point start, Point end)</span> &#123;&#125;

<span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Line</span>(<span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">1</span>, <span class="number">2</span>), <span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">3</span>, <span class="number">4</span>));

<span class="comment">// ç›´æ¥è§£æ„åµŒå¥— Record</span>
<span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title function_">Line</span><span class="params">(Point(<span class="type">int</span> x1, <span class="type">int</span> y1)</span>, Point(<span class="type">int</span> x2, <span class="type">int</span> y2))) &#123;
    System.out.println(<span class="string">&quot;èµ·ç‚¹: (&quot;</span> + x1 + <span class="string">&quot;, &quot;</span> + y1 + <span class="string">&quot;)&quot;</span>);
    System.out.println(<span class="string">&quot;ç»ˆç‚¹: (&quot;</span> + x2 + <span class="string">&quot;, &quot;</span> + y2 + <span class="string">&quot;)&quot;</span>);
&#125;</code></pre>
<h3 id="string-templatesé¢„è§ˆ"><a class="markdownIt-Anchor" href="#string-templatesé¢„è§ˆ"></a> String Templatesï¼ˆé¢„è§ˆï¼‰</h3>
<pre><code class="highlight java"><span class="comment">// ç±»ä¼¼å…¶ä»–è¯­è¨€çš„å­—ç¬¦ä¸²æ’å€¼ï¼ˆJava 21 é¢„è§ˆï¼Œæœªæ¥æ­£å¼ï¼‰</span>
<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;å¼ ä¸‰&quot;</span>;
<span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">25</span>;

<span class="comment">// é¢„è§ˆè¯­æ³•ï¼ˆéœ€è¦å¼€å¯é¢„è§ˆç‰¹æ€§ï¼‰</span>
<span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> STR.<span class="string">&quot;å§“åï¼š\&#123;name&#125;ï¼Œå¹´é¾„ï¼š\&#123;age&#125;&quot;</span>;
<span class="comment">// è¾“å‡ºï¼šå§“åï¼šå¼ ä¸‰ï¼Œå¹´é¾„ï¼š25</span></code></pre>
<hr />
<h2 id="ç‰ˆæœ¬é€‰æ‹©å»ºè®®"><a class="markdownIt-Anchor" href="#ç‰ˆæœ¬é€‰æ‹©å»ºè®®"></a> ç‰ˆæœ¬é€‰æ‹©å»ºè®®</h2>
<h3 id="lts-ç‰ˆæœ¬ä¸€è§ˆ"><a class="markdownIt-Anchor" href="#lts-ç‰ˆæœ¬ä¸€è§ˆ"></a> LTS ç‰ˆæœ¬ä¸€è§ˆ</h3>
<table>
<thead>
<tr>
<th>ç‰ˆæœ¬</th>
<th>å‘å¸ƒæ—¶é—´</th>
<th>æ”¯æŒè‡³</th>
<th>æ¨èç¨‹åº¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>Java 8</td>
<td>2014</td>
<td>2030</td>
<td>è€é¡¹ç›®ç»´æŠ¤</td>
</tr>
<tr>
<td>Java 11</td>
<td>2018</td>
<td>2032</td>
<td>é€æ­¥è¿ç§»</td>
</tr>
<tr>
<td>Java 17</td>
<td>2021</td>
<td>2029</td>
<td>æ–°é¡¹ç›®æ¨è</td>
</tr>
<tr>
<td><strong>Java 21</strong></td>
<td><strong>2023</strong></td>
<td><strong>2031</strong></td>
<td><strong>æœ€æ¨è</strong></td>
</tr>
</tbody>
</table>
<h3 id="è¿ç§»è·¯çº¿å»ºè®®"><a class="markdownIt-Anchor" href="#è¿ç§»è·¯çº¿å»ºè®®"></a> è¿ç§»è·¯çº¿å»ºè®®</h3>
<pre><code class="highlight plaintext">Java 8 ç”¨æˆ·  â†’  å…ˆå‡ Java 17ï¼ˆæ”¹åŠ¨æœ€å°çš„ LTSï¼‰  â†’  å†å‡ Java 21</code></pre>
<p><strong>å‡çº§æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>Java 9 å¼•å…¥äº†æ¨¡å—åŒ–ï¼Œ<code>sun.*</code> å†…éƒ¨ API å¯èƒ½æ— æ³•è®¿é—®</li>
<li>Java 17 å¼ºåˆ¶å°è£…äº† JDK å†…éƒ¨ APIï¼Œéƒ¨åˆ†æ—§æ¡†æ¶å¯èƒ½æœ‰å…¼å®¹é—®é¢˜</li>
<li>Spring Boot 3.x è¦æ±‚ Java 17+</li>
<li>Spring Boot 3.2+ å¯ä»¥ä¸€è¡Œé…ç½®å¼€å¯è™šæ‹Ÿçº¿ç¨‹</li>
</ul>
<h3 id="å„ç‰¹æ€§é‡è¦ç¨‹åº¦é€Ÿè§ˆ"><a class="markdownIt-Anchor" href="#å„ç‰¹æ€§é‡è¦ç¨‹åº¦é€Ÿè§ˆ"></a> å„ç‰¹æ€§é‡è¦ç¨‹åº¦é€Ÿè§ˆ</h3>
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>ç‰ˆæœ¬</th>
<th>é‡è¦ç¨‹åº¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>Lambda / Stream / Optional</td>
<td>Java 8</td>
<td>â­â­â­ æ ¸å¿ƒåŸºç¡€</td>
</tr>
<tr>
<td>var ç±»å‹æ¨æ–­</td>
<td>Java 10</td>
<td>â­â­ æ—¥å¸¸å®ç”¨</td>
</tr>
<tr>
<td>æ–‡æœ¬å—</td>
<td>Java 15</td>
<td>â­â­ æ—¥å¸¸å®ç”¨</td>
</tr>
<tr>
<td>Record</td>
<td>Java 16</td>
<td>â­â­â­ å¼ºçƒˆæ¨è</td>
</tr>
<tr>
<td>instanceof Pattern Matching</td>
<td>Java 16</td>
<td>â­â­ æ—¥å¸¸å®ç”¨</td>
</tr>
<tr>
<td>Sealed Classes</td>
<td>Java 17</td>
<td>â­â­ è®¾è®¡åˆ©å™¨</td>
</tr>
<tr>
<td>è™šæ‹Ÿçº¿ç¨‹</td>
<td>Java 21</td>
<td>â­â­â­ é‡å¤§å˜é©</td>
</tr>
<tr>
<td>Sequenced Collections</td>
<td>Java 21</td>
<td>â­ äº†è§£å³å¯</td>
</tr>
<tr>
<td>Record Patterns</td>
<td>Java 21</td>
<td>â­â­ å€¼å¾—æŒæ¡</td>
</tr>
</tbody>
</table>
<hr />
</main>

</article>


<script src="/js/highlight.js"></script>

  </main>
  <footer class="footer">
  
  <span>Copyright Â© 2026 Lism Blog | lisisism@qq.com</span>
  
</footer>
  
<script src="/js/theme.js"></script>

</body>

</html>